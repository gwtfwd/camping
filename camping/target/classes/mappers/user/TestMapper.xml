<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="kr.green.camping.dao.user.TestMapper">

	<insert id="insertBoard5Reply" parameterType="kr.green.camping.vo.user.TestVO">
	
		<selectKey resultType="String" keyProperty="reno" order="BEFORE">
			SELECT IFNULL(MAX(RENO),0)+1 FROM TBL_BOARDREPLY
		</selectKey>

		INSERT INTO TBL_BOARDREPLY(BRDNO, RENO, REID, REDELETEFLAG, REMEMO, REDATE)
			VALUES (#{brdno}, #{reno}, #{reid}, 'N', #{rememo}, NOW())
	</insert>

	<update id="updateBoard5Reply" parameterType="kr.green.camping.vo.user.TestVO">
		UPDATE TBL_BOARDREPLY SET REMEMO=#{rememo} WHERE RENO=#{reno}
	</update> 

</mapper>